Here's a breakdown of the function